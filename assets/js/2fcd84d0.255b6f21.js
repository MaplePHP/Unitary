"use strict";(globalThis.webpackChunkunitary=globalThis.webpackChunkunitary||[]).push([[6578],{6230:(e,s,n)=>{n.d(s,{Ay:()=>c,RM:()=>l});var r=n(4848),i=n(8453);n(6540);const t=function({showArrayTypes:e=!0}){const s=()=>e?", array<int, string>":"";return(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Key"}),(0,r.jsx)("th",{children:"Description"}),(0,r.jsx)("th",{children:"Accepted Values"}),(0,r.jsx)("th",{children:"Default"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"discover-pattern"})}),(0,r.jsx)("td",{children:"Overrides default discovery behavior with directory names or filename patterns."}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false, string"})}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"verbose"})}),(0,r.jsx)("td",{children:"Displays warnings and extended diagnostic output."}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"bool"})}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"show"})}),(0,r.jsxs)("td",{children:["Runs a specific test or group by its name or hash (CLI: ",(0,r.jsx)("code",{children:"show=<hash|name>"}),")."]}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"string, false"})}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"errors-only"})}),(0,r.jsx)("td",{children:"Hides successful tests and only shows failed or invalid results."}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"bool"})}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"type"})}),(0,r.jsx)("td",{children:"The expected response type (default, junit, xml)."}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false, string"})}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"fail-fast"})}),(0,r.jsx)("td",{children:"Stops test execution immediately if error occurs or throws an exception."}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"bool"})}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"always-show-files"})}),(0,r.jsx)("td",{children:"Always displays the full file path, even for passing tests."}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"bool"})}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"smart-search"})}),(0,r.jsx)("td",{children:"Enables recursive searching from the defined path upwards until valid test files are found."}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"bool"})}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"path"})}),(0,r.jsxs)("td",{children:["Where Unitary should ",(0,r.jsx)("strong",{children:"start"})," to look for test files. Both ",(0,r.jsx)("strong",{children:"absolute"})," and ",(0,r.jsx)("strong",{children:"relative"})," paths will work."]}),(0,r.jsx)("td",{children:(0,r.jsxs)("code",{children:["false, string",s()]})}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"exclude"})}),(0,r.jsx)("td",{children:"Defines files or directories to skip during discovery."}),(0,r.jsx)("td",{children:(0,r.jsxs)("code",{children:["false, string",s()]})}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"false"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"timezone"})}),(0,r.jsx)("td",{children:"Sets the default timezone for all test executions."}),(0,r.jsxs)("td",{children:[(0,r.jsx)("code",{children:"string"})," (valid timezone)"]}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"'UTC'"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"locale"})}),(0,r.jsx)("td",{children:"Defines the locale for formatted outputs such as date strings."}),(0,r.jsxs)("td",{children:[(0,r.jsx)("code",{children:"string"})," (e.g. ",(0,r.jsx)("code",{children:"en_US"}),", ",(0,r.jsx)("code",{children:"sv_SE"}),")"]}),(0,r.jsx)("td",{children:(0,r.jsx)("code",{children:"'en_US'"})})]})]})]})},l=[];function d(e){const s={li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:"/**"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Configuration table component"}),"\n",(0,r.jsxs)(s.li,{children:["@param ",boolean,' showArrayTypes - if false, array types are removed from the "Accepted Values" column\n*/']}),"\n"]})]})}function c(e={}){return(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})})}},6556:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"run-tests","title":"Run tests","description":"This page describes how to run tests.","source":"@site/docs/run-tests.md","sourceDirName":".","slug":"/run-tests","permalink":"/Unitary/docs/run-tests","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Run tests","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Write Tests","permalink":"/Unitary/docs/write-tests"},"next":{"title":"Partial Overrides","permalink":"/Unitary/docs/partial-overrides"}}');var i=n(4848),t=n(8453),l=n(6230);const d={title:"Run tests",sidebar_position:3},c="Run tests",o={},a=[{value:"Running tests (CLI)",id:"running-tests-cli",level:2},{value:"Response",id:"response",level:5},{value:"Response",id:"response-1",level:5},{value:"Configure test groups",id:"configure-test-groups",level:2},{value:"Execute",id:"execute",level:4},{value:"Response",id:"response-2",level:4},{value:"JUnit XML Output (CI-Friendly)",id:"junit-xml-output-ci-friendly",level:2},{value:"Run tests with:",id:"run-tests-with",level:5},{value:"Full option reference",id:"full-option-reference",level:2},...l.RM,{value:"Layer interaction",id:"layer-interaction",level:2}];function h(e){const s={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h4:"h4",h5:"h5",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"run-tests",children:"Run tests"})}),"\n",(0,i.jsx)(s.p,{children:"This page describes how to run tests."}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"running-tests-cli",children:"Running tests (CLI)"}),"\n",(0,i.jsx)(s.p,{children:"The Unitary CLI is the fastest way to execute and inspect tests.\nWhen launched without arguments, it automatically discovers all test groups in your project and runs them:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"php vendor/bin/unitary\n"})}),"\n",(0,i.jsx)("p",{class:"offset-top",children:(0,i.jsx)("small",{children:(0,i.jsxs)(s.em,{children:["Same as ",(0,i.jsx)(s.code,{children:"php vendor/bin/unitary run"})," or ",(0,i.jsx)(s.code,{children:"php vendor/bin/unitary test"})]})})}),"\n",(0,i.jsx)(s.p,{children:"For help and a full list of available flags:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"php vendor/bin/unitary --help\n"})}),"\n",(0,i.jsx)(s.p,{children:"Create a boilerplate code to get started quickly:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"php vendor/bin/unitary template\n"})}),"\n",(0,i.jsx)(s.p,{children:"Limit output to only failing validations:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"php vendor/bin/unitary --errors-only\n"})}),"\n",(0,i.jsxs)(s.p,{children:["You can also rerun a specific test by ",(0,i.jsx)(s.strong,{children:"hash"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"php vendor/bin/unitary --show=12e65ed93cd2ac5de824254d2c69dc5d0\n"})}),"\n",(0,i.jsx)(s.h5,{id:"response",children:"Response"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://wazabii.se/github-assets/unitary/unitary-cli-state-pass.png",alt:"Unitary CLI response"})}),"\n",(0,i.jsxs)(s.p,{children:["You can also rerun a specific test by a specified ",(0,i.jsx)(s.strong,{children:"name"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"php vendor/bin/unitary --show=unitary\n"})}),"\n",(0,i.jsx)(s.h5,{id:"response-1",children:"Response"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://wazabii.se/github-assets/unitary/unitary-cli-named-group.png",alt:"Unitary CLI response"})}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Se ",(0,i.jsx)(s.a,{href:"#configure-test-groups",children:"Configure test groups"})," for more information on how this actually works below."]}),"\n"]}),"\n",(0,i.jsx)("h2",{class:"headline-5",children:"Targeting specific tests"}),"\n",(0,i.jsxs)(s.p,{children:["Unitary is extremely fast and can execute more tests than you could ever write in under a second. You\u2019ll rarely use ",(0,i.jsx)(s.code,{children:"--path"}),", ",(0,i.jsx)(s.code,{children:"--exclude"}),", or ",(0,i.jsx)(s.code,{children:"--smart-search"})," for performance reasons \u2014 they\u2019re mainly for convenience, such as IDE integrations or when you want to limit discovery to specific folders."]}),"\n",(0,i.jsxs)(s.p,{children:["During active development, the ",(0,i.jsx)(s.code,{children:"--show"})," flag is often the more practical choice. It lets you target individual tests by name or hash while still surfacing fatal errors from unrelated test files, errors that would otherwise remain hidden if discovery were narrowly filtered."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'php vendor/bin/unitary --path="tests/integration"\nphp vendor/bin/unitary --exclude="tests/legacy/*"\nphp vendor/bin/unitary --smart-search\n'})}),"\n",(0,i.jsx)(s.p,{children:"These flags are ideal for quick, local runs.\nIf you want the same behavior every time, define it in your configuration file instead."}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"configure-test-groups",children:"Configure test groups"}),"\n",(0,i.jsx)(s.p,{children:"Every individual groups can define their own configuration using TestConfig. This allows naming, skipping, or scoping tests directly in code without affecting the rest of the suite."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-php",children:'$config = TestConfig::make()->withName("unitary")->withSkip();\n\ngroup($config->withSubject("HTTP Request"), function(TestCase $case) {\n\n});\n\ngroup($config->withSubject("Test mocking library"), function(TestCase $case) {\n\n});\n'})}),"\n",(0,i.jsx)(s.h4,{id:"execute",children:"Execute"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"php vendor/bin/unitary --show=unitary\n"})}),"\n",(0,i.jsx)(s.h4,{id:"response-2",children:"Response"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://wazabii.se/github-assets/unitary/unitary-cli-state-grouped.png",alt:"Unitary CLI response"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"junit-xml-output-ci-friendly",children:"JUnit XML Output (CI-Friendly)"}),"\n",(0,i.jsx)(s.p,{children:"For CI systems and test aggregators, Unitary can emit results as JUnit XML."}),"\n",(0,i.jsx)(s.h5,{id:"run-tests-with",children:"Run tests with:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"php vendor/bin/unitary --type=junit\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"This switches the output format from human-readable CLI output to machine-readable XML."})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"full-option-reference",children:"Full option reference"}),"\n",(0,i.jsx)(s.p,{children:"Each option listed below can be used as a CLI flag or as a key in the configuration file.\nThey share the same names, accepted types, and default values."}),"\n",(0,i.jsx)(l.Ay,{}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"layer-interaction",children:"Layer interaction"}),"\n",(0,i.jsx)(s.p,{children:"Unitary merges configuration from all sources in a fixed order:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"File"})," \u2014 base project defaults (",(0,i.jsx)(s.code,{children:"unitary.config.php"}),")"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Code"})," \u2014 per-group settings defined through ",(0,i.jsx)(s.code,{children:"TestConfig"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"CLI"})," \u2014 temporary overrides applied last"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"This predictable precedence makes it easy to test locally with CLI flags while keeping stable project-wide defaults under version control."})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>d});var r=n(6540);const i={},t=r.createContext(i);function l(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);